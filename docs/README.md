# Golf Ball Label 3D Pipeline

A complete automation pipeline that generates golf ball labels using DALL-E AI and applies them to 3D models in Blender.

## What This Does

1. **AI Image Generation**: Uses DALL-E 3 to create custom golf ball label designs
2. **3D Model Updates**: Automatically applies the new label to a 3D golf ball model
3. **Real-time Preview**: Opens the updated 3D model in a web-based viewer

## Files Overview

- `run_pipeline.py` - Main orchestrator script
- `generate_image_with_dalle.py` - DALL-E image generation
- `async_blend.py` - File watcher for automation
- `generate_label_glb.py` - Blender script for 3D model updates
- `w3/` - Professional web app for 3D model viewing
- `.env` - Environment variables (API keys)

## Quick Start

### 1. Setup Environment

```bash
# Install dependencies
pip install -r requirements.txt

# Set up your OpenAI API key
echo "OPENAI_API_KEY=your-actual-api-key-here" > .env
```

### 2. Run the Complete Pipeline

```bash
python run_pipeline.py
```

This will:
- Check all dependencies
- Generate a new label design with DALL-E
- Update your 3D golf ball model
- Open the result in a 3D viewer

## Individual Components

### Generate New Labels
```bash
# Interactive prompt
python generate_image_with_dalle.py

# Custom prompt
python generate_image_with_dalle.py --prompt "Golf ball label with 'PRO V1' text, red design"
```

### View 3D Models
```bash
# Start the web app server
cd w3
npm start

# Or use the pipeline which starts the web app automatically
python run_pipeline.py
```

### Automated File Watching
```bash
# Start the file watcher (runs continuously)
python async_blend.py
```

## Custom Prompts

Try these example prompts for different label styles:

- `"Professional golf ball label with 'TITLEIST' branding, clean white background"`
- `"Golf ball label with golden logo, black background, elegant typography"`
- `"Minimalist golf ball label with blue geometric pattern, modern design"`
- `"Vintage golf ball label with retro typography, cream background"`

## Requirements

- **Python 3.8+**
- **Blender 4.4** (installed at default location)
- **Node.js** (for web app server)
- **OpenAI API Key** (for DALL-E access)
- **Internet connection** (for AI generation and 3D viewer)

## Configuration

### Blender Path
If Blender is installed elsewhere, update the path in `run_pipeline.py`:
```python
BLENDER_DIR = r"C:\Your\Blender\Path"
```

### File Paths
Update paths in scripts if your project structure differs:
- `IMAGE_PATH` - Where generated images are saved
- `GLB_OUTPUT_PATH` - Where 3D models are exported
- `BLEND_FILE` - Your Blender template file

## Workflow

```
1. Edit .env with your API key
2. Run: python run_pipeline.py
3. Enter custom prompt (or use default)
4. Wait for AI generation (~30 seconds)
5. Wait for 3D model update (~10 seconds)
6. View result in browser
```

## Troubleshooting

### "Blender not found"
- Update `BLENDER_DIR` in `run_pipeline.py`
- Ensure Blender 4.4+ is installed

### "API key not found"
- Check your `.env` file exists
- Verify the API key is correct

### "GLB file not opening"
- Try running `python view_glb.py` manually
- Check if the file was generated successfully

### "Permission errors"
- Run as administrator if needed
- Check file permissions in your project directory

## File Structure

```
3D/
├── run_pipeline.py          # Main orchestrator
├── generate_image_with_dalle.py  # DALL-E generation
├── async_blend.py          # File watcher
├── generate_label_glb.py   # Blender script
├── w3/                     # Professional web app
│   ├── server.js           # Express server
│   ├── package.json        # Node.js dependencies
│   └── public/             # Web app files
│       ├── index.html      # Main interface
│       └── app.js          # 3D viewer logic
├── requirements.txt        # Python dependencies
├── .env                   # API keys (create this)
├── .gitignore            # Git exclusions
├── Golf.blend           # Blender template
├── image.png            # Generated images
└── exported_label.glb   # Output 3D models
```

## Success!

When everything works, you'll see:
1. A new label design generated by AI
2. Your 3D golf ball model updated automatically
3. A browser window with an interactive 3D viewer
4. Full control to rotate, zoom, and inspect your model

## Iteration

The pipeline is designed for rapid iteration:
- Change prompts to try different designs
- The 3D model updates automatically
- No need to manually open Blender
- Instant visual feedback

Happy golf ball designing! 